@extends('layouts.main')

@section('content')

    <div class="main">
        <div class="heading-actions">
            <div class="wrapper heading-wrapper">
                <h1 class="pull-left"><a href="{{ url('/dashboard') }}" class="btn btn-default btn-circle"><i
                                class="fa fa-home"></i></a> MSSP Dashboard</h1>
                <div class="pull-right">
                    <ol class="breadcrumb mb-0">
                        <li><a href="{{ url('/dashboard') }}">Dashboard</a></li>
                        <li ><a href="{{ url('/mssp-dashboard/mssp-services') }}">MSSP Services</a></li>
                        <li class="active"><a href="{{ url('/mssp-dashboard/mssp-services/reporting-services') }}">Reporting Services</a></li>
                    </ol>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="tabs_wrps">

                @include('mssp-dashboard.navigation-bar')


                <!-- Nav tabs -->
                    <!-- Tab panes -->


                    <div class="row mar-b10">
                        <div class="col-md-12 threepanel">
                            <div class="tabs_wrps bgwhite bgwhite">


                                <div class="tab-content">
                                    <div role="tabpanel" class="tab-pane active" id="vmmsspservice_dashboard_main">



                                        <div class="row">
                                            <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12">
                                                <div class="panel panel-default">
                                                    <div class="panel-body">
                                                        <div style="height:740px; margin: 0 auto">
                                                            <div class="sdbrgroup_wrps">
                                                                <h3>Default Reports</h3>
                                                                <ul>
                                                                    <li><a class="chart_draggable btn btn-default btn-block" id="vuln_by_severity">By Severity</a></li>
                                                                    <li><a class="chart_draggable btn btn-default btn-block" id="vuln_by_types">By Types</a></li>
                                                                    <li><a class="chart_draggable btn btn-default btn-block" id="vuln_by_exploitability">By Exploitability</a></li>
                                                                    <li><a class="chart_draggable btn btn-default btn-block" id="vuln_by_pci">By PCI</a></li>
                                                                    <li><a class="chart_draggable btn btn-default btn-block" id="vuln_by_trend_report">By Trend report</a></li>
                                                                    <!--<li><a class="chart_draggable btn btn-default btn-block" id="vuln_servers_by_region">Servers by Region</a></li>
                                                                    <li><a class="chart_draggable btn btn-default btn-block" id="vuln_apps_by_region">Applications by Region</a></li>-->
                                                                </ul>
                                                            </div>
                                                            <div class="sdbrgroup_wrps">
                                                                <h3>Customized Reports</h3>
                                                                <ul>
                                                                    <li><a class="chart_draggable btn btn-default btn-block" id="vuln_appsby_crown_jewels">Apps by Crown Jewels</a></li>
                                                                    <li><a class="chart_draggable btn btn-default btn-block" id="vuln_apps_by_bu_current">Apps By BU Current</a></li>
                                                                    <li><a class="chart_draggable btn btn-default btn-block" id="vuln_apps_by_bu_trended">Apps By BU Trended</a></li>
                                                                    <li><a class="chart_draggable btn btn-default btn-block" id="vuln_servers_by_bu_current">Servers By BU Current</a></li>
                                                                    <li><a class="chart_draggable btn btn-default btn-block" id="vuln_servers_by_bu_trended">Servers By BU Trended</a></li>
                                                                    <li><a class="chart_draggable btn btn-default btn-block" id="vuln_by_risk_type">By Risk type</a></li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-10 col-md-10 col-sm-10 col-xs-12">


                                                <div class="row">
                                                    <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                                                        <div class="form-group">
                                                            <label class="control-label">Global</label>
                                                            <select class="form-control">
                                                                <option>All</option>
                                                                <option>North America</option>
                                                            </select>
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                                                        <div class="form-group">
                                                            <label class="control-label">Region</label>
                                                            <select class="form-control">
                                                                <option>All</option>
                                                                <option>Servicing</option>
                                                            </select>
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12">
                                                        <div class="form-group">
                                                            <label class="control-label">Sub Region</label>
                                                            <select class="form-control">
                                                                <option>All</option>
                                                                <option>Servicing</option>
                                                            </select>
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12">
                                                        <div class="form-group">
                                                            <label class="control-label">Business Unit</label>
                                                            <select class="form-control">
                                                                <option>All</option>
                                                                <option>BU 1</option>
                                                                <option>BU 2</option>
                                                            </select>
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12">
                                                        <div class="form-group">
                                                            <label class="control-label">Date</label>
                                                            <div class="input-group">
                                                                <input type="text" class="form-control daterange-session" placeholder="Feed Date 2017-01-31"/>
                                                                <div class="input-group-addon"><i class="fa fa-calendar pull-right"></i></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                        <div class="panel panel-default chart" id="panel_1" data-chart="0">
                                                            <div class="panel-heading" role="tab">
                                                                <h4 class="panel-title"> Chart 1</h4>
                                                            </div>
                                                            <div class="panel-body">
                                                                <div class="createdatasource" id="panel_1_chart"></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 pos-rel">
                                                        <div class="panel panel-default chart" id="panel_2" data-chart="1">
                                                            <div class="panel-heading" role="tab">
                                                                <h4 class="panel-title"> Chart 2</h4>
                                                            </div>
                                                            <div class="panel-body ">
                                                                <div class="createdatasource" id="panel_2_chart"></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                        <div class="panel panel-default chart" id="panel_3" data-chart="2">
                                                            <div class="panel-heading" role="tab">
                                                                <h4 class="panel-title"> Chart 3</h4>
                                                            </div>
                                                            <div class="panel-body">
                                                                <div class="createdatasource" id="panel_3_chart"></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                        <div class="panel panel-default chart" id="panel_4" data-chart="3">
                                                            <div class="panel-heading" role="tab">
                                                                <h4 class="panel-title"> Chart 4</h4>
                                                            </div>
                                                            <div class="panel-body">
                                                                <div class="createdatasource" id="panel_4_chart"></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                        <div class="panel panel-default chart" id="panel_5" data-chart="4">
                                                            <div class="panel-heading" role="tab">
                                                                <h4 class="panel-title"> Chart 5</h4>
                                                            </div>
                                                            <div class="panel-body">
                                                                <div class="createdatasource" id="panel_5_chart"></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <?php /*?><div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 pos-rel">
                            <div class="panel panel-default chart" id="panel_6" data-chart="5">
                                <div class="panel-heading" role="tab">
                                    <h4 class="panel-title"> Chart 6</h4>
                                </div>
                                <div class="panel-body">
                                    <div class="createdatasource" id="panel_6_chart"></div>
                                </div>
                            </div>
                        </div><?php */?>

                                                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 pos-rel">
                                                        <div class="panel panel-default chart" id="panel_7" data-chart="6">
                                                            <div class="panel-heading" role="tab">
                                                                <h4 class="panel-title"> Vulnerable Servers by Region
                                                                    <div class="pnrht_settwps">
                                                                        <a href="javascript:" class="maximize_clk" data-toggle="tooltip" data-placement="top" title="Maximize"><i class="fa fa-arrows-alt"></i></a>
                                                                        <a href="javascript:" class="setting_clk" data-toggle="modal" data-target="#popovercontent" data-tt="tooltip" data-placement="top" title="Settings"><i class="fa fa-cog"></i></a>
                                                                        <a href="javascript:" class="help_clk" data-toggle="tooltip" data-placement="top" title="Help"><i class="fa fa-info"></i></a>
                                                                    </div>
                                                                </h4>
                                                            </div>
                                                            <div class="panel-body">
                                                                <div class="createdatasource" id="panel_7_chart" ></div>
                                                                <div class="watermark_div"><a href="am_vulnerability_scan.php" class="btn btn-primary btn-lg click_customize">Click to Customize</a></div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 pos-rel">
                                                        <div class="panel panel-default chart" id="panel_8" data-chart="7">
                                                            <div class="panel-heading" role="tab">
                                                                <h4 class="panel-title"> Vulnerable Apps by Region
                                                                    <div class="pnrht_settwps">
                                                                        <a href="javascript:" class="maximize_clk" data-toggle="tooltip" data-placement="top" title="Maximize"><i class="fa fa-arrows-alt"></i></a>
                                                                        <a href="javascript:" class="setting_clk" data-toggle="modal" data-target="#popovercontent" data-tt="tooltip" data-placement="top" title="Settings"><i class="fa fa-cog"></i></a>
                                                                        <a href="javascript:" class="help_clk" data-toggle="tooltip" data-placement="top" title="Help"><i class="fa fa-info"></i></a>
                                                                    </div>
                                                                </h4>
                                                            </div>
                                                            <div class="panel-body">
                                                                <div class="createdatasource" id="panel_8_chart" ></div>
                                                                <div class="watermark_div"><a href="am_vulnerability_scan.php" class="btn btn-primary btn-lg click_customize">Click to Customize</a></div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                        <div class="panel panel-default chart" id="panel_9" data-chart="8">
                                                            <div class="panel-heading" role="tab">
                                                                <h4 class="panel-title">Top 10 Vulnerabilities
                                                                    <div class="pnrht_settwps">
                                                                        <a href="#" class="maximize_clk" data-toggle="tooltip" data-placement="top" title="Maximize"><i class="fa fa-arrows-alt"></i></a>
                                                                        <a href="#" class="setting_clk" data-toggle="modal" data-target="#popovercontent" data-tt="tooltip" data-placement="top" title="Settings"><i class="fa fa-cog"></i></a>
                                                                        <a href="#" class="help_clk" data-toggle="tooltip" data-placement="top" title="Help"><i class="fa fa-info"></i></a>
                                                                    </div>
                                                                </h4>
                                                            </div>
                                                            <div class="panel-body">
                                                                <table class="table table-bordered table-hover">
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>Apache HTTP Server Multiple Cross-Sit...</td>
                                                                        <td class="bgclr_high">High</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>Apache HTTP Server Multiple Cross-Sit...</td>
                                                                        <td class="bgclr_high">High</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>Apache HTTP Server Multiple Cross-Sit...</td>
                                                                        <td class="bgclr_good">Low</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>Apache HTTP Server Multiple Cross-Sit...</td>
                                                                        <td class="bgclr_high">High</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>Apache HTTP Server Multiple Cross-Sit...</td>
                                                                        <td class="bgclr_good">Low</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>Apache HTTP Server Multiple Cross-Sit...</td>
                                                                        <td class="bgclr_good">Low</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>Apache HTTP Server Multiple Cross-Sit...</td>
                                                                        <td class="bgclr_high">High</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>Apache HTTP Server Multiple Cross-Sit...</td>
                                                                        <td class="bgclr_good">Low</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>Apache HTTP Server Multiple Cross-Sit...</td>
                                                                        <td class="bgclr_good">Low</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>Apache HTTP Server Multiple Cross-Sit...</td>
                                                                        <td class="bgclr_good">Low</td>
                                                                    </tr>

                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div role="tabpanel" class="tab-pane" id="vmmsspservice_config">
                                        <div class="row mar-b20">
                                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                                <h3 class="mar-t0  sub-heading">Task Title</h3>
                                            </div>
                                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                <div class="form-group">
                                                    <label class="control-label">Title</label>
                                                    <input type="text" class="form-control"/>
                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                <div class="form-group">
                                                    <label class="control-label">Title Owner</label>
                                                    <input type="text" class="form-control"/>
                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                <div class="form-group">
                                                    <label class="control-label">Option Profile</label>
                                                    <input type="text" class="form-control"/>
                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                <div class="form-group">
                                                    <label class="control-label">Processing Priority</label>
                                                    <select class="form-control">
                                                        <option>Select</option>
                                                        <option></option>
                                                        <option></option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row mar-b20">
                                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                                <h3 class="mar-t0  sub-heading">Target Hosts</h3>
                                            </div>
                                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                                <div class="form-group">
                                                    <label class="radio-inline"><input type="radio" checked class="targethosts_radio" name="targethosts_radio" id="targethosts_radio_assets" value="Assets"/> Assets</label>
                                                    <label class="radio-inline"><input type="radio" class="targethosts_radio" id="targethosts_radio_tags" name="targethosts_radio" value="Tags"/> Tags</label>
                                                </div>
                                                <div class="targetcnt_content active" id="targethosts_radio_assets_div">
                                                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                        <div class="form-group">
                                                            <label class="control-label">Asset Groups</label>
                                                            <select class="form-control">
                                                                <option>Select</option>
                                                                <option></option>
                                                                <option></option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                        <div class="form-group">
                                                            <label class="control-label">IPs/Ranges</label>
                                                            <input type="text" class="form-control"/>
                                                            <span class="help-block"><i>Example:</i> 192.168.0.87-192.168.0.92, 192.168.0.200</span>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                        <div class="form-group">
                                                            <label class="control-label">Exclude IPs/Ranges</label>
                                                            <input type="text" class="form-control"/>
                                                            <span class="help-block"><i>Example:</i> 192.168.0.87-192.168.0.92, 192.168.0.200</span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="targetcnt_content" id="targethosts_radio_tags_div">
                                                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                                        <div class="alert alert-info">
                                                            <label class="checkbok">
                                                                <input type="checkbox"/> Use IP Network Range Tags
                                                            </label>

                                                            <p>Choose from tags defined with IP address rules. This will allow you to scan the entire IP range(s) in each selected tag.</p>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                                        <p>Include hosts that have Any of the tags below. <a href="#" class="btn btn-sm btn-success pull-right"><i class="fa fa-plus"></i> Add Tag</a>
                                                        </p>
                                                        <div class="form-group">
                                                            <textarea class="form-control" placeholder="(no tags selected)" rows="5"></textarea>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                                        <p>Do not include hosts that have Any of the tags below. <a href="#" class="btn btn-sm btn-success pull-right"><i class="fa fa-plus"></i> Add Tag</a>
                                                        </p>
                                                        <div class="form-group">
                                                            <textarea class="form-control" placeholder="(no tags selected)" rows="5"></textarea>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                        <div class="row mar-b20">
                                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                                <h3 class="mar-t0  sub-heading">Scheduling</h3>
                                            </div>
                                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                <div class="form-group">
                                                    <label class="control-label">Start</label>
                                                    <div class="row">
                                                        <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                                                            <input type="text" class="form-control"/>
                                                        </div>
                                                        <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                                                            <select class="form-control">
                                                                <option>Time Zone</option>
                                                                <option></option>
                                                                <option></option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                <div class="form-group">
                                                    <label class="control-label">Duration</label>
                                                    <div class="row">
                                                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                            <label for="checkbox_duration" class="checkbox_square">
                                                                <input type="checkbox" id="checkbox_duration"/><span></span><span></span>
                                                            </label>

                                                            <div class="col-sm-4" style="float: none; display: inline-flex;">
                                                                <select class="form-control">
                                                                    <option>Select</option>
                                                                    <option></option>
                                                                    <option></option>
                                                                </select>
                                                            </div>
                                                            After
                                                            <div class="col-sm-3" style="float: none; display: inline-flex;">
                                                                <select class="form-control">
                                                                    <option>01</option>
                                                                    <option>02</option>
                                                                    <option>03</option>
                                                                    <option>04</option>
                                                                    <option>05</option>
                                                                    <option>06</option>
                                                                    <option>07</option>
                                                                    <option>08</option>
                                                                    <option>09</option>
                                                                    <option>10</option>
                                                                    <option>11</option>
                                                                    <option>12</option>
                                                                </select>
                                                            </div>
                                                            Hours
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                <div class="form-group">
                                                    <label class="control-label">Resume Days</label>
                                                    <select class="form-control">
                                                        <option>Select</option>
                                                        <option></option>
                                                        <option></option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                                <div class="form-group">
                                                    <label class="control-label">Occurs</label>
                                                    <div class="row">
                                                        <div class="col-sm-2" style="display: inline-flex; float: none;">
                                                            <select class="form-control">
                                                                <option>--Select--</option>
                                                                <option></option>
                                                                <option></option>
                                                            </select>
                                                        </div>
                                                        <div class="col-sm-2" style="display: inline-flex; float: none;"><input type="text" class="form-control"/>
                                                        </div>
                                                        Days
                                                        <label for="checkbox_occursafter" class="checkbox_square">
                                                            <input type="checkbox" id="checkbox_occursafter"/><span></span><span></span>
                                                        </label>
                                                        End After
                                                        <div class="col-sm-2" style="display: inline-flex; float: none;"><input type="text" class="form-control"/>
                                                        </div>
                                                        Occurrences
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row mar-b20">
                                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                                <h3 class="mar-t0  sub-heading">Notifications</h3>
                                            </div>
                                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                                <div class="form-group">
                                                    <label class="control-label">Set up email notifications for you and other users.</label>
                                                    <div class="row">
                                                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                                            <div class="">
                                                                <label for="notifications_beforemapstart" class="checkbox_square">
                                                                    <input type="checkbox" id="notifications_beforemapstart"/><span></span><span></span>
                                                                </label>
                                                                Send notification
                                                                <div class="col-sm-1" style="display: inline-flex; float: none;">
                                                                    <input type="text" class="form-control"/>
                                                                </div>
                                                                <div class="col-sm-2" style="display: inline-flex; float: none;">
                                                                    <select class="form-control" style="width: 120px !important; float: none;">
                                                                        <option>--Select Days--</option>
                                                                        <option></option>
                                                                        <option></option>
                                                                    </select>
                                                                </div>
                                                                before map starts
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                                            <label for="notifications_aftermapcompletes" class="checkbox_square">
                                                                <input type="checkbox" id="notifications_aftermapcompletes"/><span></span>
                                                                <span></span>
                                                            </label>
                                                            Send notification after map completes
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="mar-b20">
                                                    <p><strong>Recipients</strong></p>
                                                    <p>We'll notify the task owner. To add more users, select from your distribution groups.</p>
                                                    <p>Distribution Groups: <a href="#" id="add_distribution_group_modal" class="mar-l10 btn btn-default"><i class="fa fa-plus"></i>  Add Group</a></p>
                                                </div>
                                                <div class="mar-b20">
                                                    <p><strong>Custom Message</strong></p>
                                                    <p>The email will always include info like the title, owner, option profile and start time.</p>
                                                    <div class="row"><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                                            <div class="form-group">
                                                                <label class="control-label">Custom message for email sent before map starts</label>
                                                                <textarea class="form-control" placeholder="A qualys map is scheduled to start soon." rows="5"></textarea>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                                            <div class="form-group">
                                                                <label class="control-label">Custom message for email sent after map completes</label>
                                                                <textarea class="form-control" placeholder="A Qualys map is finished." rows="5"></textarea>
                                                            </div>
                                                        </div></div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-right">
                                                <button type="submit" class="btn btn-primary btn-lg">Submit</button>
                                                <button type="button" class="btn btn-danger btn-lg" data-dismiss="modal">Cancel</button>
                                            </div>
                                        </div>
                                    </div>
                                    <div role="tabpanel" class="tab-pane" id="vmmsspservice_launchpad">
                                        <div class="panel panel-default">
                                            <div class="panel-heading" role="tab" id="headingOne">
                                                <h4 class="panel-title"> Users List</h4>
                                            </div>
                                            <div class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
                                                <div class="panel-body">

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        {{--include tables--}}
                    </div>



                    <table id="vuln_by_exploitability_datatable" style="display:none;">
                        <thead>
                        <tr>
                            <th></th>
                            <th>Minimal</th>
                            <th>Medium</th>
                            <th>Serious</th>
                            <th>Critical</th>
                            <th>Urgent</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <th>Level - 1</th>
                            <td>235</td>
                            <td>225</td>
                            <td>222</td>
                            <td>230</td>
                            <td>280</td>
                        </tr>
                        <tr>
                            <th>Level - 2</th>
                            <td>235</td>
                            <td>225</td>
                            <td>222</td>
                            <td>230</td>
                            <td>280</td>
                        </tr>
                        <tr>
                            <th>Level - 3</th>
                            <td>235</td>
                            <td>225</td>
                            <td>222</td>
                            <td>230</td>
                            <td>280</td>
                        </tr>
                        <tr>
                            <th>Level - 4</th>
                            <td>235</td>
                            <td>225</td>
                            <td>222</td>
                            <td>230</td>
                            <td>280</td>
                        </tr>
                        <tr>
                            <th>Level - 5</th>
                            <td>235</td>
                            <td>225</td>
                            <td>222</td>
                            <td>230</td>
                            <td>280</td>
                        </tr>
                        </tbody>
                    </table>

                    <table id="vuln_apps_by_bu_current_datatable" style="display:none;">
                        <thead>
                        <tr>
                            <th></th>
                            <th>Minimal</th>
                            <th>Medium</th>
                            <th>Serious</th>
                            <th>Critical</th>
                            <th>Urgent</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <th>BU - 1</th>
                            <td>5</td>
                            <td>5</td>
                            <td>5</td>
                            <td>5</td>
                            <td>5</td>
                        </tr>
                        <tr>
                            <th>BU - 2</th>
                            <td>5</td>
                            <td>5</td>
                            <td>5</td>
                            <td>5</td>
                            <td>5</td>
                        </tr>
                        <tr>
                            <th>BU - 3</th>
                            <td>5</td>
                            <td>5</td>
                            <td>5</td>
                            <td>5</td>
                            <td>5</td>
                        </tr>
                        <tr>
                            <th>BU - 4</th>
                            <td>5</td>
                            <td>5</td>
                            <td>5</td>
                            <td>5</td>
                            <td>5</td>
                        </tr>
                        <tr>
                            <th>BU - 5</th>
                            <td>5</td>
                            <td>5</td>
                            <td>5</td>
                            <td>5</td>
                            <td>5</td>
                        </tr>
                        </tbody>
                    </table>

                    <table id="vuln_appsby_crown_jewels_datatable" style="display:none;">
                        <thead>
                        <tr>
                            <th></th>
                            <th>Minimal</th>
                            <th>Medium</th>
                            <th>Serious</th>
                            <th>Critical</th>
                            <th>Urgent</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <th>BU - 1</th>
                            <td>23</td>
                            <td>23</td>
                            <td>43</td>
                            <td>23</td>
                            <td>12</td>
                        </tr>
                        <tr>
                            <th>BU - 2</th>
                            <td>12</td>
                            <td>23</td>
                            <td>14</td>
                            <td>15</td>
                            <td>24</td>
                        </tr>
                        <tr>
                            <th>BU - 3</th>
                            <td>12</td>
                            <td>23</td>
                            <td>34</td>
                            <td>12</td>
                            <td>12</td>
                        </tr>
                        <tr>
                            <th>BU - 4</th>
                            <td>35</td>
                            <td>25</td>
                            <td>22</td>
                            <td>20</td>
                            <td>28</td>
                        </tr>
                        <tr>
                            <th>BU - 5</th>
                            <td>23</td>
                            <td>25</td>
                            <td>22</td>
                            <td>30</td>
                            <td>20</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>


@endsection

@section('extra-js')
    <script type="text/javascript">

        var js_vm_graphs = {

            'vuln_by_severity'  : {
                chart: {
                    plotBackgroundColor: null,
                    plotBorderWidth: null,
                    plotShadow: false,
                    type: 'pie'
                },
                colors: [
                    '#7cb5ec',
                    '#009688',
                    '#4CAF50',
                    '#f39c12',
                    '#F44336'
                ],
                title: {
                    text: null
                },
                tooltip: {
                    pointFormat: '<b>{point.y}</b>'
                },
                plotOptions: {
                    pie: {
                        allowPointSelect: true,
                        cursor: 'pointer',
                        dataLabels: {
                            enabled: true,
                            format: '{point.y} % ',
                            style: {
                                color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                            }
                        },
                        showInLegend: true
                    },
                    series: {
                        cursor: 'pointer',
                        point: {
                            events: {
                                click: function (event) {
                                    chartype = 'area';
                                    chartTitle = 'Vulnerability - ' +  this.options.name;
                                    chartCategories = ['BU 1', 'BU 2', 'BU 3', 'BU 4', 'BU 5'],
                                        chartData = [{
                                            name: 'Minimal',
                                            visible: (this.options.name=='Minimal')?true:false,
                                            data: [5, 3, 0, 7, 2]
                                        }, {
                                            name: 'Medium',
                                            visible: (this.options.name=='Medium')?true:false,
                                            data: [2, 2, null, 2, 1]
                                        }, {
                                            name: 'Serious',
                                            visible: (this.options.name=='Serious')?true:false,
                                            data: [3, 4, 4, 2, 5]
                                        }, {
                                            name: 'Critical',
                                            visible: (this.options.name=='Critical')?true:false,
                                            data: [0, 2, 3, 2, 1]
                                        }, {
                                            name: 'Urgent',
                                            visible: (this.options.name=='Urgent')?true:false,
                                            data: [3, 4, 4, 2, 5]
                                        }];
                                    console.log(this.series.chart.renderTo.getAttribute('id'));
                                    var panelId= this.series.chart.renderTo.getAttribute('id').replace("_chart", "");
                                    setDynamicChart(chartype, chartTitle, chartCategories, chartData, 'vuln_by_severity', panelId, 'vuln_by_severity_div');

                                }
                            }
                        }
                    }
                },
                series: [{
                    name: 'Vulnerabilities by Severity',
                    colorByPoint: true,
                    data: [{
                        name: 'Minimal',
                        y: 25
                    }, {
                        name: 'Medium',
                        y: 15,
                        sliced: true,
                        selected: true
                    },{
                        name: 'Serious',
                        y: 20
                    },{
                        name: 'Critical',
                        y: 35
                    },{
                        name: 'Urgent',
                        y: 5
                    }]
                }]
            },

            'vuln_by_types' : {
                chart: {
                    plotBackgroundColor: null,
                    plotBorderWidth: null,
                    plotShadow: false,
                    type: 'pie'
                },
                title: {
                    text: null
                },
                tooltip: {
                    pointFormat: '<b>{point.y}</b>'
                },
                plotOptions: {
                    pie: {
                        allowPointSelect: true,
                        cursor: 'pointer',
                        dataLabels: {
                            enabled: true,
                            format: '{point.y} % ',
                            style: {
                                color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                            }
                        },
                        showInLegend: true
                    },
                    series: {
                        cursor: 'pointer',
                        point: {
                            events: {
                                click: function (event) {
                                    chartype = 'column';
                                    chartTitle = 'Vulnerability - ' +  this.options.name;
                                    chartCategories = ['BU 1', 'BU 2', 'BU 3', 'BU 4', 'BU 5'],
                                        chartData = [{
                                            name: 'Minimal',
                                            data: [5, 3, 4, 7, 2]
                                        }, {
                                            name: 'Medium',
                                            data: [2, 2, 3, 2, 1]
                                        }, {
                                            name: 'Serious',
                                            data: [3, 4, 4, 2, 5]
                                        }, {
                                            name: 'Critical',
                                            data: [2, 2, 3, 2, 1]
                                        }, {
                                            name: 'Urgent',
                                            data: [3, 4, 4, 2, 5]
                                        }];
                                    var panelId= this.series.chart.renderTo.getAttribute('id').replace("_chart", "");
                                    setDynamicChart(chartype, chartTitle, chartCategories, chartData, 'vuln_by_types', panelId, 'vuln_by_types_div');

                                }
                            }
                        }
                    }
                },
                series: [{
                    name: null,
                    colorByPoint: true,
                    data: [{
                        name: 'Practice',
                        y: 25
                    }, {
                        name: 'lg',
                        y: 35,
                        sliced: true,
                        selected: true
                    },{
                        name: 'Vuln',
                        y: 40
                    }]
                }]
            },

            'vuln_by_exploitability' : {

                chart: {
                    type: 'pie',
                    options3d: {
                        enabled: true,
                        alpha: 45
                    }
                },
                colors: [
                    '#7cb5ec',
                    '#009688',
                    '#4CAF50',
                    '#f39c12',
                    '#F44336'
                ],
                title: {
                    text: ''
                },
                plotOptions: {
                    pie: {
                        innerSize: 100,
                        depth: 45
                    },
                    series: {
                        cursor: 'pointer',
                        point: {
                            events: {
                                click: function (e) {
                                    chartype 		= 'bar';
                                    chartTitle		= 'Vulnerability - '+this.name;
                                    chartCategories =  ['BU 1', 'BU 2', 'BU 3', 'BU 4', 'BU 5'],
                                        chartData		= [{
                                            name: 'Urgent',
                                            data: [3, 4, 4, 2, 5]
                                        }, {
                                            name: 'Critical',
                                            data: [2, 2, 3, 2, 1]
                                        }, {
                                            name: 'Serious',
                                            data: [3, 4, 4, 2, 5]
                                        }, {
                                            name: 'Medium',
                                            data: [2, 2, 3, 2, 1]
                                        },{
                                            name: 'Minimal',
                                            data: [5, 3, 4, 7, 2]
                                        }];
                                    console.log(this.series.chart.renderTo.getAttribute('id'));
                                    var panelId= this.series.chart.renderTo.getAttribute('id').replace("_chart", "");
                                    setDynamicChart(chartype, chartTitle, chartCategories, chartData,'vuln_by_exploitability',panelId,'vuln_by_exploitability_div');
                                }
                            }
                        },
                        marker: {
                            lineWidth: 1
                        }
                    }
                },
                tooltip: {
                    pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                },
                series: [{
                    name: 'Vulnerabilities',
                    data: [
                        ['Exploitable', 30],
                        ['Non Exploitable', 70],
                    ],

                }]
            },

            'vuln_by_pci' : {
                chart: {
                    type: 'pyramid'
                },
                colors: [
                    '#7cb5ec',
                    '#009688',
                    '#4CAF50',
                    '#f39c12',
                    '#F44336'
                ],
                title: {
                    text: null
                },
                plotOptions: {
                    series: {
                        dataLabels: {
                            enabled: true,
                            format: '<b>{point.name}</b> ({point.y:,.0f})',
                            color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black',
                            softConnector: true
                        },
                        center: ['40%', '50%'],
                        width: '80%',
                        point: {
                            events: {
                                click: function (event) {
                                    chartype = 'area';
                                    chartTitle = 'Vulnerability - ' +  this.options.name;
                                    chartCategories = ['BU 1', 'BU 2', 'BU 3', 'BU 4', 'BU 5'],
                                        chartData = [{
                                            name: 'Minimal',
                                            visible: (this.options.name=='Minimal')?true:false,
                                            data: [1000, 5000, 4000, 5000, 654]
                                        }, {
                                            name: 'Medium',
                                            visible: (this.options.name=='Medium')?true:false,
                                            data: [164, 1500, 2500, 3000, 4000]
                                        }, {
                                            name: 'Serious',
                                            visible: (this.options.name=='Serious')?true:false,
                                            data: [187, 900, 1100, 2800, 3000]
                                        }, {
                                            name: 'Critical',
                                            visible: (this.options.name=='Critical')?true:false,
                                            data: [76, 400, 500, 1000, 2000]
                                        }, {
                                            name: 'Urgent',
                                            visible: (this.options.name=='Urgent')?true:false,
                                            data: [46, 300, 500, 700, 1300]
                                        }];
                                    var panelId= this.series.chart.renderTo.getAttribute('id').replace("_chart", "");
                                    console.log(panelId);
                                    setDynamicChart(chartype, chartTitle, chartCategories, chartData, 'vuln_by_pci', panelId, 'vuln_by_pci_div');

                                }
                            }
                        }
                    }
                },
                legend: {
                    enabled: true,
                },
                series: [{
                    name: null,
                    data: [
                        ['Minimal',     15654],
                        ['Medium',      11164],
                        ['Serious',     7987],
                        ['Critical',    3976],
                        ['Urgent',      2846]
                    ]
                }]
            },

            'vuln_by_trend_report' :{
                chart: {
                    type: 'spline',
                },
                title: {
                    text: null
                },
                xAxis: {
                    categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
                },
                yAxis: {
                    title: {
                        text: 'Count of Vuln'
                    },
                    plotLines: [{
                        color: '#FF0000',
                        width: 2,
                        value: 22,
                        label: {
                            text: 'High',
                            align: 'right',
                            x: -10
                        }
                    }]
                },
                plotOptions: {
                    spline: {
                        dataLabels: {
                            enabled: true
                        },
                    },
                    series: {
                        cursor: 'pointer',
                        events: {
                            click: function (event) {
                                alert('clicked');
                            }
                        }
                    },
                },
                plotOptions: {
                    spline: {
                        dataLabels: {
                            enabled: true
                        },
                    },
                    series: {
                        cursor: 'pointer',
                        events: {
                            click: function (event) {
                                chartype = 'column';
                                chartTitle = 'Vulnerability - ';
                                chartCategories =  ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun','Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                                    chartData = [{
                                        name: 'Minimal',
                                        data: [5, 3, 5, 9, 7, 3, 4, 6, 1, 2, 8, 7]
                                    }, {
                                        name: 'Medium',
                                        data: [4, 2, 0, 7, 4, 3, 3, 7, 5, 2, 1, 2]
                                    }, {
                                        name: 'Serious',
                                        data: [5, 7, 2, 3, 9, 3, 2, 2, 7, 2, 9, 7]
                                    }, {
                                        name: 'Critical',
                                        data: [2, 3, 9, 7, 4, 3, 0, 7, 5, 2, 1, 1]
                                    }, {
                                        name: 'Urgent',
                                        data: [7, 6, 1, 1, 2, 3, 3, 8, 3, 2, 2, 6]
                                    }];
                                xTitle='';
                                yTitle='Count of Vulnerability';
                                console.log(this);
                                var panelId= this.chart.renderTo.getAttribute('id').replace("_chart", "");
                                setDynamicChart(chartype, chartTitle, chartCategories, chartData, 'vuln_by_trend_report', panelId, 'vuln_by_trend_report_div', xTitle, yTitle);

                            }
                        }
                    },
                    rangeSelector: {
                        selected: 1
                    },
                },
                series: [{
                    name: 'BU - 1',
                    data: [7, 6, 9, 14, 18, 21, 25, 26, 23, 18, 13, 9]
                }, {
                    name: 'BU - 2',
                    data: [3, 4, 5, 8, 11, 15, 17, 16, 14, 10, 6, 4]
                }]
            },

            'vuln_servers_by_region' : {

                chart : {
                    borderWidth : 1
                },

                colors: ['rgba(192,192,192,0.3)', 'rgba(0,255,0,0.5)', 'rgba(255,255,0,0.3)',
                    'rgba(255,255,0,0.8)', 'rgba(255,0,0,1)'],

                title : {
                    text : 'Global risk trend by country'
                },

                mapNavigation: {
                    enabled: true
                },

                legend: {
                    title: {
                        text: 'Risk',
                        style: {
                            color: (Highcharts.theme && Highcharts.theme.textColor) || 'black'
                        }
                    },
                    align: 'left',
                    verticalAlign: 'bottom',
                    floating: true,
                    layout: 'vertical',
                    valueDecimals: 1,
                    backgroundColor: (Highcharts.theme && Highcharts.theme.legendBackgroundColor) || 'rgba(255, 255, 255, 0.85)',
                    symbolRadius: 0,
                    symbolHeight: 14,
                    labelFormatter: function () {
                        if(this.to == 0)
                            return this.name;
                        else
                            return this.name +'('+this.from+'-'+this.to+')';
                    }
                },

                colorAxis: {
                    dataClasses: [{
                        to: 0,
                        name: 'No Data',
                        color : 'rgba(192,192,192,0.3)',
                    }, {
                        from: 0.1,
                        to: 2.5,
                        name: 'Low Risk',
                        color : 'rgba(0,255,0,0.5)',
                    }, {
                        from: 2.6,
                        to: 5.0,
                        name: 'Medium Risk',
                        color : 'rgba(255,255,0,0.3)',
                    }, {
                        from: 5.1,
                        to: 7.5,
                        name: 'High Risk',
                        color : 'rgba(255,255,0,0.8)',
                    }, {
                        from: 7.6,
                        to:10,
                        name: 'Extreme Risk',
                        color : 'rgba(255,0,0,1)',
                    }]
                },
                credits: {
                    enabled: false
                },
                series : [{
                    data : [
                        {
                            "id": "NA",
                            "displayValue": "North America",
                            "value": "57.2",
                            "link": "newchart-json-NA"
                        },
                        {

                            "id": "SA",
                            "value": "57.1",
                            "showLabel": "1"
                        },
                        {
                            "id": "AS",
                            "value": "247",
                            "showLabel": "1"
                        },
                        {
                            "id": "EU",
                            "value": "188.5",
                            "showLabel": "1"
                        },
                        {
                            "id": "AF",
                            "value": "87.2",
                            "showLabel": "1"
                        },
                        {
                            "id": "AU",
                            "value": "8.32",
                            "showLabel": "1"
                        }
                    ],
                    mapData: Highcharts.maps['custom/world'],
                    joinBy: ['iso-a2', 'code'],
                    animation: true,
                    name: 'Risk Density',
                    cursor: 'pointer',
                    states: {
                        hover: {
                            color: '#BADA55'
                        }
                    },
                    events: {
                        click: function (e) {
                            window.location = "mp.php";
                        }
                    },
                    tooltip: {
                        valueSuffix: ''
                    }
                }]
            },

            'vuln_apps_by_region' : {
                type: 'maps/world',
                renderAt: 'fc_vmchart_vuln_apps_region',
                width: '100%',
                height: '450',
                dataFormat: 'json',
                dataSource: {
                    "chart": {
                        "caption": " ",
                        "subcaption": " ",
                        "theme": "fint",
                        "formatNumberScale": "0",
                        "showLabels": "1",
                        "nullEntityColor": "#C2C2D6",
                        "nullEntityAlpha": "50",
                        "hoverOnNull": "0",
                        "useSNameInLabels": "0",
                        "entityFillColor": "#A8A8A8",
                        "entityFillHoverColor": "#E5E5E9",
                        "legendBgColor": "#ffffff",
                        "legendBorderAlpha": '0',
                        "legendShadow": '0',
                        "legendItemFontSize": '10',
                        "legendItemFontColor": '#666666'
                    },
                    "colorrange": {
                        "startlabel": "Low",
                        "endlabel": "High",
                        "code": "#e44a00",
                        "minvalue": "0",
                        "gradient": "1",
                        "color": [
                            {
                                "maxvalue": "60",
                                "displayvalue": "Average",
                                "code": "#f8bd19"
                            },
                            {
                                "maxvalue": "300",
                                "code": "#6baa01"
                            }
                        ]
                    },
                    "data": [
                        {
                            "id": "NA",
                            "displayValue": "North America",
                            "value": "57.2",
                            "link": "newchart-json-NA"
                        },
                        {
                            "id": "SA",
                            "value": "57.1",
                            "showLabel": "1"
                        },
                        {
                            "id": "AS",
                            "value": "247",
                            "showLabel": "1"
                        },
                        {
                            "id": "EU",
                            "value": "188.5",
                            "showLabel": "1"
                        },
                        {
                            "id": "AF",
                            "value": "87.2",
                            "showLabel": "1"
                        },
                        {
                            "id": "AU",
                            "value": "8.32",
                            "showLabel": "1"
                        }
                    ],
                    "linkeddata": [
                        {
                            "id": "NA",
                            "linkedchart": {
                                "chart": {
                                    "caption": "US Population Density by State",
                                    "subcaption": "Number of people per Square Mile",
                                    "entityFillHoverColor": "#E5E5E9",
                                    "showLabels": "1",
                                    "entityFillColor": "#A8A8A8",
                                    "theme": "fint",
                                    "showBorder": "1",
                                    "bordercolor": "#FFFFFF",
                                    "entityborderThickness": "3"
                                },
                                "colorrange": {
                                    "startlabel": "Low",
                                    "endlabel": "High",
                                    "code": "#e44a00",
                                    "minvalue": "0",
                                    "gradient": "1",
                                    "color": [
                                        {
                                            "maxvalue": "150",
                                            "displayvalue": "Average",
                                            "code": "#f8bd19"
                                        },
                                        {
                                            "maxvalue": "600",
                                            "code": "#6baa01"
                                        }
                                    ]
                                },
                                "data": [
                                    {
                                        "id": "HI",
                                        "value": "99"
                                    },
                                    {
                                        "id": "DC",
                                        "value": "99"
                                    },
                                    {
                                        "id": "MD",
                                        "value": "90"
                                    },
                                    {
                                        "id": "DE",
                                        "value": "96"
                                    },
                                    {
                                        "id": "RI",
                                        "value": "90"
                                    },
                                    {
                                        "id": "WA",
                                        "value": "228"
                                    },
                                    {
                                        "id": "OR",
                                        "value": "105"
                                    },
                                    {
                                        "id": "CA",
                                        "value": "221"
                                    },
                                    {
                                        "id": "AK",
                                        "value": "260"
                                    },
                                    {
                                        "id": "ID",
                                        "value": "396"
                                    },
                                    {
                                        "id": "NV",
                                        "value": "169"
                                    },
                                    {
                                        "id": "AZ",
                                        "value": "435"
                                    },
                                    {
                                        "id": "MT",
                                        "value": "445"
                                    },
                                    {
                                        "id": "WY",
                                        "value": "455"
                                    },
                                    {
                                        "id": "UT",
                                        "value": "227"
                                    },
                                    {
                                        "id": "CO",
                                        "value": "214"
                                    },
                                    {
                                        "id": "NM",
                                        "value": "196"
                                    },
                                    {
                                        "id": "ND",
                                        "value": "331"
                                    },
                                    {
                                        "id": "SD",
                                        "value": "374"
                                    },
                                    {
                                        "id": "NE",
                                        "value": "329"
                                    },
                                    {
                                        "id": "KS",
                                        "value": "231"
                                    },
                                    {
                                        "id": "OK",
                                        "value": "150"
                                    },
                                    {
                                        "id": "TX",
                                        "value": "202"
                                    },
                                    {
                                        "id": "MN",
                                        "value": "137"
                                    },
                                    {
                                        "id": "IA",
                                        "value": "143"
                                    },
                                    {
                                        "id": "MO",
                                        "value": "424"
                                    },
                                    {
                                        "id": "AR",
                                        "value": "485"
                                    },
                                    {
                                        "id": "LA",
                                        "value": "124"
                                    },
                                    {
                                        "id": "WI",
                                        "value": "181"
                                    },
                                    {
                                        "id": "IL",
                                        "value": "120"
                                    },
                                    {
                                        "id": "KY",
                                        "value": "309"
                                    },
                                    {
                                        "id": "TN",
                                        "value": "250"
                                    },
                                    {
                                        "id": "MS",
                                        "value": "351"
                                    },
                                    {
                                        "id": "AL",
                                        "value": "271"
                                    },
                                    {
                                        "id": "GA",
                                        "value": "124"
                                    },
                                    {
                                        "id": "MI",
                                        "value": "120"
                                    },
                                    {
                                        "id": "IN",
                                        "value": "205"
                                    },
                                    {
                                        "id": "OH",
                                        "value": "476"
                                    },
                                    {
                                        "id": "PA",
                                        "value": "445"
                                    },
                                    {
                                        "id": "NY",
                                        "value": "369"
                                    },
                                    {
                                        "id": "VT",
                                        "value": "322"
                                    },
                                    {
                                        "id": "NH",
                                        "value": "216"
                                    },
                                    {
                                        "id": "ME",
                                        "value": "404"
                                    },
                                    {
                                        "id": "MA",
                                        "value": "165"
                                    },
                                    {
                                        "id": "CT",
                                        "value": "316"
                                    },
                                    {
                                        "id": "NJ",
                                        "value": "553"
                                    },
                                    {
                                        "id": "WV",
                                        "value": "560"
                                    },
                                    {
                                        "id": "VA",
                                        "value": "565"
                                    },
                                    {
                                        "id": "NC",
                                        "value": "534"
                                    },
                                    {
                                        "id": "SC",
                                        "value": "503"
                                    },
                                    {
                                        "id": "FL",
                                        "value": "503"
                                    }
                                ]
                            }
                        }
                    ]
                }
            },

            'vuln_apps_by_bu_current' : {
                /*data: {
                 table: 'vuln_apps_by_bu_current_datatable'
                 },*/
                chart: {
                    type: 'column'
                },
                colors: [
                    '#7cb5ec',
                    '#009688',
                    '#4CAF50',
                    '#f39c12',
                    '#F44336'
                ],
                title: {
                    text: ''
                },
                xAxis: {
                    categories: ['BU 1', 'BU 2', 'BU 3', 'BU 4', 'BU 5'],
                    title: {
                        text: 'Business Units',

                    }
                },
                yAxis: {
                    min: 0,
                    title: {
                        text: 'Vuln Apps count'
                    },
                    stackLabels: {
                        enabled: false,
                        style: {
                            fontWeight: 'bold',
                            color: (Highcharts.theme && Highcharts.theme.textColor) || 'gray'
                        }
                    }
                },
                plotOptions: {
                    column: {
                        stacking: 'normal',
                        dataLabels: {
                            enabled: false,
                            color: (Highcharts.theme && Highcharts.theme.dataLabelsColor) || 'white'
                        }
                    },
                    series: {
                        cursor: 'pointer',
                        events: {
                            click: function (event) { //console.log(event);
                                $('.threepanel').hide();
                                $('#vuln_apps_by_bu_current_div').show();

                            }
                        }
                    }
                },
                tooltip: {
                    headerFormat: '<b>{point.x}</b><br/>',
                    pointFormat: '{series.name}: {point.y}<br/>Total: {point.stackTotal}'
                },
                series: [{
                    name: 'Minimal',
                    data: [5, 3, 4, 7, 2]
                }, {
                    name: 'Medium',
                    data: [2, 2, 3, 2, 1]
                }, {
                    name: 'Serious',
                    data: [3, 4, 4, 2, 5]
                }, {
                    name: 'Critical',
                    data: [2, 2, 3, 2, 1]
                }, {
                    name: 'Urgent',
                    data: [3, 4, 4, 2, 5]
                }],
                //tooltip: {
//            formatter: function() {
//                return '<b>' + this.series.name + '</b><br/>' +
//                    this.point.y + ' ' + this.point.name.toLowerCase();
//            }
//        }Apps by BU Current
            },

            'vuln_apps_by_bu_trended' :{
                chart: {
                    type: 'areaspline'
                },
                colors: [
                    '#7cb5ec',
                    '#009688',
                    '#4CAF50',
                    '#f39c12',
                    '#F44336'
                ],
                title: {
                    text: null
                },
                legend: {
                    enabled: true
                },
                xAxis: {
                    categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
                },
                yAxis: {
                    title: {
                        text: 'Vuln count'
                    }
                },
                plotOptions: {
                    areaspline: {
                        fillOpacity: 0.5
                    },
                    series: {
                        point: {
                            events: {
                                click: function (event) {
                                    $('.threepanel').hide();
                                    $('#vuln_apps_by_bu_trended_div').show();
                                }
                            }
                        }
                    }
                },
                series: [{
                    name: 'BU 1',
                    data: [17, 6, 9, 14, 18, 21, 25, 26, 23, 18, 13, 9]
                }, {
                    name: 'BU 2',
                    data: [3, 14, 5, 8, 11, 15, 17, 25, 14, 10, 6, 15]
                }, {
                    name: 'BU 3',
                    data: [7, 16, 9, 14, 18, 21, 5, 26, 23, 18, 13, 9]
                }, {
                    name: 'BU 4',
                    data: [3, 4, 15, 8, 11, 15, 17, 14, 14, 10, 25, 4]
                }, {
                    name: 'BU 5',
                    data: [12, 8, 5, 18, 11, 15, 17, 16, 14, 18, 6, 4]
                }]
            },

            'vuln_servers_by_bu_current' : {
                chart: {
                    plotBackgroundColor: null,
                    plotBorderWidth: null,
                    plotShadow: false,
                    type: 'pie'
                },
                colors: [
                    '#7cb5ec',
                    '#009688',
                    '#4CAF50',
                    '#f39c12',
                    '#F44336'
                ],
                title: {
                    text: null
                },
                tooltip: {
                    pointFormat: '<b>{point.y}</b>'
                },
                plotOptions: {
                    pie: {
                        allowPointSelect: true,
                        cursor: 'pointer',
                        dataLabels: {
                            enabled: true,
                            format: '{point.y} % ',
                            style: {
                                color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                            }
                        },
                        showInLegend: true,
                    },
                    series: {
                        cursor: 'pointer',
                        point: {
                            events: {
                                click: function (event) {
                                    $('.threepanel').hide();
                                    $('#vuln_servers_by_bu_current_div').show();
                                }
                            }
                        }
                    }
                },
                series: [{
                    name: 'Vuln Servers by BU Current',
                    colorByPoint: true,
                    innerSize: '50%',
                    data: [{
                        name: 'BU 1',
                        y: 15
                    }, {
                        name: 'BU 2',
                        y: 25,
                        sliced: true,
                        selected: true
                    },{
                        name: 'BU 3',
                        y: 15
                    },{
                        name: 'BU 4',
                        y: 30
                    },{
                        name: 'BU 5',
                        y: 15
                    }]
                }]
            },

            'vuln_servers_by_bu_trended' : {
                chart: {
                    type: 'bar'
                },
                title: {
                    text: null
                },
                colors: [ '#F44336','#f39c12','#4CAF50','#009688','#7cb5ec'   ],
                xAxis: {
                    categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
                },
                yAxis: {
                    min: 0,
                    title: {
                        text: 'Vulnerabilities'
                    }
                },
                legend: {
                    reversed: true
                },
                plotOptions: {
                    series: {
                        stacking: 'normal',
                        point: {
                            events: {
                                click: function (event) {
                                    $('.threepanel').hide();
                                    $('#vuln_servers_by_bu_trended_div').show();
                                }
                            }
                        }
                    }
                },
                series: [{
                    name: 'BU 5',
                    data: [15, 13, 14, 17, 12, 14, 17, 12, 2, 2, 3, 2]
                }, {
                    name: 'BU 4',
                    data: [14, 17, 12, 2, 2, 3, 2, 2, 2, 3, 13, 14]
                }, {
                    name: 'BU 3',
                    data: [17, 12, 14, 17, 3, 4, 4, 2, 5, 3, 13, 14]
                }, {
                    name: 'BU 2',
                    data: [2, 2, 13, 14, 17, 12, 6, 3, 2, 1, 14, 17]
                }, {
                    name: 'BU 1',
                    data: [23, 5, 34, 3, 4, 4, 2, 5, 17, 12, 14, 17]
                }]
            },

            'vuln_by_risk_type' :  {
                chart: {
                    type: 'bubble',
                    plotBorderWidth: 1,
                    zoomType: 'xy'
                },

                legend: {
                    enabled: false
                },

                title: {
                    text: null
                },

                xAxis: {
                    gridLineWidth: 1,
                    title: {
                        text: 'Impact'
                    }
                },

                yAxis: {
                    startOnTick: false,
                    endOnTick: false,
                    title: {
                        text: 'Likely hood'
                    },
                    maxPadding: 0.2
                },

                tooltip: {
                    useHTML: true,
                    headerFormat: '<table>',
                    pointFormat: '<tr><th colspan="2"><h3>{point.name}</h3></th></tr>' +
                    '<tr><th>Risk Type 1:</th><td>{point.x}</td></tr>' +
                    '<tr><th>Risk Type 2:</th><td>{point.y}</td></tr>' +
                    '<tr><th>Risk Type 3:</th><td>{point.z}%</td></tr>',
                    footerFormat: '</table>',
                    followPointer: true
                },

                plotOptions: {
                    series: {
                        dataLabels: {
                            enabled: true,
                            format: '{point.name}'
                        }
                    }
                },

                series: [{
                    data: [
                        { x: 86.5, y: 102.9, z: 28.7, name: 'Operational Risk' },
                        { x: 74.2, y: 58.5, z: 24.5, name: 'Regulatory Risk' },
                        { x: 71, y: 102.2, z: 24.7, name: 'Financial Risk' },
                        { x: 65.5, y: 126.4, z: 35.3, name: 'Client Risk' },
                        { x: 65.4, y: 50.8, z: 28.5, name: 'Reputational Risk' }
                    ]
                }]

            },


            'vuln_appsby_crown_jewels' : {
                chart: {
                    type: 'column'
                },
                title: {
                    text: ''
                },
                colors: [
                    '#7cb5ec',
                    '#009688',
                    '#4CAF50',
                    '#f39c12',
                    '#F44336'
                ],
                xAxis: {
                    categories: ['BU 1', 'BU 2', 'BU 3', 'BU 4', 'BU 5'],
                    title: {
                        text: 'Business Units'
                    },
                },
                yAxis: {
                    min: 0,
                    title: {
                        text: 'Vuln Apps count'
                    },
                    stackLabels: {
                        enabled: false,
                        style: {
                            fontWeight: 'bold',
                            color: (Highcharts.theme && Highcharts.theme.textColor) || 'gray'
                        }
                    }
                },
                legend: {
                    align: 'right',
                    verticalAlign: 'bottom',
                    floating: true,
                    backgroundColor: (Highcharts.theme && Highcharts.theme.background2) || 'white',
                    borderColor: '#FFF',
                    borderWidth: 1,
                    shadow: false
                },
                tooltip: {
                    headerFormat: '<b>{point.x}</b><br/>',
                    pointFormat: '{series.name}: {point.y}<br/>Total: {point.stackTotal}'
                },
                plotOptions: {
                    column: {
                        stacking: 'normal',
                        dataLabels: {
                            enabled: false,
                            color: (Highcharts.theme && Highcharts.theme.dataLabelsColor) || 'white'
                        }
                    },
                    series: {
                        cursor: 'pointer',
                        events: {
                            click: function (event) { //console.log(event);
                                $('.threepanel').hide();
                                $('#vuln_appsby_crown_jewels_div').show();

                            }
                        }
                    }
                },
                series: [{
                    name: 'Minimal',
                    data: [5, 3, 4, 7, 2]
                }, {
                    name: 'Medium',
                    data: [2, 2, 3, 2, 1]
                }, {
                    name: 'Serious',
                    data: [3, 4, 4, 2, 5]
                }, {
                    name: 'Critical',
                    data: [2, 2, 3, 2, 1]
                }, {
                    name: 'Urgent',
                    data: [3, 4, 4, 2, 5]
                }],

            }

        };

        var js_vm_graph_titles = {

            'vuln_by_severity'  : 'Total Vulnerabilities by Severity <div class="pnrht_settwps"><a href="javascript:" class="maximize_clk" data-toggle="tooltip" data-placement="top" title="Maximize"><i class="fa fa-arrows-alt"></i></a> <a href="javascript:" class="setting_clk" data-toggle="modal" data-target="#popovercontent" data-tt="tooltip" data-placement="top" title="Settings"><i class="fa fa-cog"></i></a> <a href="javascript:" class="help_clk" data-toggle="tooltip" data-placement="top" title="Help"><i class="fa fa-info"></i></a></div>',

            'vuln_appsby_crown_jewels' : 'Vulnerabilities Apps by Crown Jewels <div class="pnrht_settwps"><a href="javascript:" class="maximize_clk" data-toggle="tooltip" data-placement="top" title="Maximize"><i class="fa fa-arrows-alt"></i></a> <a href="javascript:" class="setting_clk" data-toggle="modal" data-target="#popovercontent" data-tt="tooltip" data-placement="top" title="Settings"><i class="fa fa-cog"></i></a> <a href="javascript:" class="help_clk" data-toggle="tooltip" data-placement="top" title="Help"><i class="fa fa-info"></i></a></div><div class="watermark_div"><a href="am_vulnerability_scan.php" class="btn btn-primary btn-lg click_customize">Click to Customize</a></div>',

            'vuln_by_exploitability' : 'Vulnerabilities by Exploitability <div class="pnrht_settwps"><a href="javascript:" class="maximize_clk" data-toggle="tooltip" data-placement="top" title="Maximize"><i class="fa fa-arrows-alt"></i></a> <a href="javascript:" class="setting_clk" data-toggle="modal" data-target="#popovercontent" data-tt="tooltip" data-placement="top" title="Settings"><i class="fa fa-cog"></i></a> <a href="javascript:" class="help_clk" data-toggle="tooltip" data-placement="top" title="Help"><i class="fa fa-info"></i></a></div>',

            'vuln_by_pci' : 'Total PCI Vulnerabilities <div class="pnrht_settwps"><a href="javascript:" class="maximize_clk" data-toggle="tooltip" data-placement="top" title="Maximize"><i class="fa fa-arrows-alt"></i></a> <a href="javascript:" class="setting_clk" data-toggle="modal" data-target="#popovercontent" data-tt="tooltip" data-placement="top" title="Settings"><i class="fa fa-cog"></i></a> <a href="javascript:" class="help_clk" data-toggle="tooltip" data-placement="top" title="Help"><i class="fa fa-info"></i></a></div>',

            'vuln_apps_by_bu_current' : 'Vulnerabilities Apps by BU Current <div class="pnrht_settwps"><a href="javascript:" class="maximize_clk" data-toggle="tooltip" data-placement="top" title="Maximize"><i class="fa fa-arrows-alt"></i></a> <a href="javascript:" class="setting_clk" data-toggle="modal" data-target="#popovercontent" data-tt="tooltip" data-placement="top" title="Settings"><i class="fa fa-cog"></i></a> <a href="javascript:" class="help_clk" data-toggle="tooltip" data-placement="top" title="Help"><i class="fa fa-info"></i></a></div><div class="watermark_div"><a href="am_vulnerability_scan.php" class="btn btn-primary btn-lg click_customize">Click to Customize</a></div>',

            'vuln_by_trend_report' : 'Vulnerabilities by Trend report <div class="pnrht_settwps"><a href="javascript:" class="maximize_clk" data-toggle="tooltip" data-placement="top" title="Maximize"><i class="fa fa-arrows-alt"></i></a> <a href="javascript:" class="setting_clk" data-toggle="modal" data-target="#popovercontent" data-tt="tooltip" data-placement="top" title="Settings"><i class="fa fa-cog"></i></a> <a href="javascript:" class="help_clk" data-toggle="tooltip" data-placement="top" title="Help"><i class="fa fa-info"></i></a></div>',

            //'vuln_servers_by_region' : 'Vulnerabilities Servers by Region <div class="pnrht_settwps"><a href="javascript:" class="maximize_clk" data-toggle="tooltip" data-placement="top" title="maximize"><i class="fa fa-arrows-alt"></i></a> <a href="javascript:" class="setting_clk" data-toggle="modal" data-target="#popovercontent" ><i class="fa fa-cog"></i></a> <a href="javascript:" class="help_clk" data-toggle="tooltip" data-placement="top" title="Help"><i class="fa fa-info"></i></a></div>',

            //'vuln_apps_by_region' : 'Vulnerabilities Applications by Region <div class="pnrht_settwps"><a href="javascript:" class="maximize_clk" data-toggle="tooltip" data-placement="top" title="maximize"><i class="fa fa-arrows-alt"></i></a> <a href="javascript:" class="setting_clk" data-toggle="modal" data-target="#popovercontent" ><i class="fa fa-cog"></i></a> <a href="javascript:" class="help_clk" data-toggle="tooltip" data-placement="top" title="Help"><i class="fa fa-info"></i></a></div>',


            'vuln_apps_by_bu_trended' : 'Vulnerabilities Apps by BU Trended <div class="pnrht_settwps"><a href="javascript:" class="maximize_clk" data-toggle="tooltip" data-placement="top" title="Maximize"><i class="fa fa-arrows-alt"></i></a> <a href="javascript:" class="setting_clk" data-toggle="modal" data-target="#popovercontent" ><i class="fa fa-cog"></i></a> <a href="javascript:" class="help_clk" data-toggle="tooltip" data-placement="top" title="Help"><i class="fa fa-info"></i></a></div><div class="watermark_div"><a href="am_vulnerability_scan.php" class="btn btn-primary btn-lg click_customize">Click to Customize</a></div>',

            'vuln_servers_by_bu_current' : 'Vulnerabilities Servers by BU Current <div class="pnrht_settwps"><a href="javascript:" class="maximize_clk" data-toggle="tooltip" data-placement="top" title="Maximize"><i class="fa fa-arrows-alt"></i></a> <a href="javascript:" class="setting_clk" data-toggle="modal" data-target="#popovercontent" data-tt="tooltip" data-placement="top" title="Settings"><i class="fa fa-cog"></i></a> <a href="javascript:" class="help_clk" data-toggle="tooltip" data-placement="top" title="Help"><i class="fa fa-info"></i></a></div><div class="watermark_div"><a href="am_vulnerability_scan.php" class="btn btn-primary btn-lg click_customize">Click to Customize</a></div>',

            'vuln_servers_by_bu_trended' : 'Vulnerabilities Servers by BU Trended <div class="pnrht_settwps"><a href="javascript:" class="maximize_clk" data-toggle="tooltip" data-placement="top" title="Maximize"><i class="fa fa-arrows-alt"></i></a> <a href="javascript:" class="setting_clk" data-toggle="modal" data-target="#popovercontent" data-tt="tooltip" data-placement="top" title="Settings"><i class="fa fa-cog"></i></a> <a href="javascript:" class="help_clk" data-toggle="tooltip" data-placement="top" title="Help"><i class="fa fa-info"></i></a></div><div class="watermark_div"><a href="am_vulnerability_scan.php" class="btn btn-primary btn-lg click_customize">Click to Customize</a></div>',

            'vuln_by_risk_type' : 'Vulnerabilities by Risk Type <div class="pnrht_settwps"><a href="javascript:" class="maximize_clk" data-toggle="tooltip" data-placement="top" title="Maximize"><i class="fa fa-arrows-alt"></i></a> <a href="javascript:" class="setting_clk" data-toggle="modal" data-target="#popovercontent" data-tt="tooltip" data-placement="top" title="Settings"><i class="fa fa-cog"></i></a> <a href="javascript:" class="help_clk" data-toggle="tooltip" data-placement="top" title="Help"><i class="fa fa-info"></i></a></div><div class="watermark_div"><a href="am_vulnerability_scan.php" class="btn btn-primary btn-lg click_customize">Click to Customize</a></div>',

            'vuln_by_types' : 'Vulnerabilities by Types <div class="pnrht_settwps"><a href="javascript:" class="maximize_clk" data-toggle="tooltip" data-placement="top" title="Maximize"><i class="fa fa-arrows-alt"></i></a> <a href="javascript:" class="setting_clk" data-toggle="modal" data-target="#popovercontent" data-tt="tooltip" data-placement="top" title="Settings"><i class="fa fa-cog"></i></a> <a href="javascript:" class="help_clk" data-toggle="tooltip" data-placement="top" title="Help"><i class="fa fa-info"></i></a></div>',

        };

        var js_graphs_loaded = [ '', '', '', '', '', '' ];

        $(function() {
            /* $('.chart_draggable').draggable({
                helper: "clone",
                opacity: "0.5"
            });

            $('.chart').droppable({
                accept: '.chart_draggable',
                drop: function(event, ui){
                    loadHighChart($(ui.draggable).attr("id"), $(this).attr("id"));
                }
            }); */
        });

        function loadHighChart(elementId, panelId)
        {
            var HighChartProperties = js_vm_graphs[elementId];
            //$('#' + panelId + '_chart').highcharts().destroy();
            $("#" + panelId).find("h4.panel-title").html(js_vm_graph_titles[elementId]);
            Highcharts.chart( panelId + '_chart', HighChartProperties);
            var chart_group = $("#" + panelId).data("group");
            var chart_element = $("#" + panelId).data("chart");
            js_graphs_loaded[chart_element] = elementId;
            $('.chart_draggable').show();
            $.each(js_graphs_loaded, function( index, value ) {
                if(value.length > 0) {
                    $('#' + value).hide();
                }
            });
        }
        // new functions by thrinadh

        function backtoPanel(id)
        {
            $('.threepanel').show();
            $('#'+id).hide();
            $('.charts_table').hide();

        }

        $(function() {
            var current_graph = 1
            $.each(js_vm_graph_titles, function( index, value ) {
                if(current_graph <= 5){
                    console.log(index);
                    loadHighChart(index, 'panel_' + current_graph);
                    current_graph++;
                }
            });
        });
        function setDynamicChart(chartype, chartTitle, chartCategories, chartData, elementId, panelId, table, xTitle, yTitle){

            switch(chartype)
            {
                case 'column' :
                    switch(elementId)
                    {

                        case 'vuln_by_trend_report':$('#' + panelId + '_chart').highcharts({
                            chart: {
                                type: chartype
                            },
                            title: {
                                text: ' <a class="back ' + elementId + ' ' + panelId + '"  style="color:red;cursor:pointer" >Back</a>',
                                align: 'right',
                            },
                            colors: [
                                '#7cb5ec',
                                '#009688',
                                '#4CAF50',
                                '#f39c12',
                                '#F44336'
                            ],
                            xAxis: {
                                categories: chartCategories,
                                title: {
                                    text: (xTitle) ? xTitle : 'Business Units'
                                },
                            },
                            yAxis: {
                                min: 0,
                                title: {
                                    text: (yTitle) ? yTitle : 'Vuln Apps count'
                                },
                                stackLabels: {
                                    enabled: false,
                                    style: {
                                        fontWeight: 'bold',
                                        color: (Highcharts.theme && Highcharts.theme.textColor) || 'gray'
                                    }
                                }
                            },
                            tooltip: {
                                headerFormat: '<b>{point.x}</b><br/>',
                                pointFormat: '{series.name}: {point.y}<br/>Total: {point.stackTotal}'
                            },
                            plotOptions: {
                                chartype: {
                                    stacking: 'normal',
                                    dataLabels: {
                                        enabled: false,
                                        color: (Highcharts.theme && Highcharts.theme.dataLabelsColor) || 'white'
                                    }
                                },
                                series: {
                                    cursor: 'pointer',
                                    events: {
                                        click: function (event) { //console.log(event);
                                            $('.threepanel').hide();
                                            $('.charts_table').hide();
                                            $('#' + table).show();

                                        }
                                    }
                                }
                            },
                            series: chartData
                        });break;
                        case 'vuln_apps_by_bu_current': $('#'+panelId+'_chart').highcharts({
                            chart: {
                                type: chartype
                            },
                            title: {
                                text: ' <a class="back '+elementId+' '+panelId+'"  style="color:red;cursor:pointer" >Back</a>',
                                align: 'right',
                            },
                            colors: [
                                '#7cb5ec',
                                '#009688',
                                '#4CAF50',
                                '#f39c12',
                                '#F44336'
                            ],
                            xAxis: {
                                categories: chartCategories,
                                title: {
                                    text: 'Business Units'
                                },
                            },
                            yAxis: {
                                min: 0,
                                title: {
                                    text: 'Vuln Apps count'
                                },
                                stackLabels: {
                                    enabled: false,
                                    style: {
                                        fontWeight: 'bold',
                                        color: (Highcharts.theme && Highcharts.theme.textColor) || 'gray'
                                    }
                                }
                            },
                            tooltip: {
                                headerFormat: '<b>{point.x}</b><br/>',
                                pointFormat: '{series.name}: {point.y}<br/>Total: {point.stackTotal}'
                            },
                            plotOptions: {
                                chartype: {
                                    stacking: 'normal',
                                    dataLabels: {
                                        enabled: false,
                                        color: (Highcharts.theme && Highcharts.theme.dataLabelsColor) || 'white'
                                    }
                                },
                                series: {
                                    cursor: 'pointer',
                                    events: {
                                        click: function (event) { //console.log(event);
                                            $('.threepanel').hide();
                                            $('.charts_table').hide();
                                            $('#'+table).show();

                                        }
                                    }
                                }
                            },
                            series: chartData
                        });break;
                        case 'vuln_by_types' : $('#'+panelId+'_chart').highcharts({
                            chart: {
                                type: chartype
                            },
                            title: {
                                text: ' <a class="back '+elementId+' '+panelId+'"  style="color:red;cursor:pointer" >Back</a>',
                                align: 'right',

                            },
                            colors: [
                                '#7cb5ec',
                                '#009688',
                                '#4CAF50',
                                '#f39c12',
                                '#F44336'
                            ],
                            xAxis: {
                                categories: chartCategories,
                                title: {
                                    text: 'Business Units'
                                },
                            },
                            yAxis: {
                                min: 0,
                                title: {
                                    text: 'Count of Vulnerability'
                                },
                                stackLabels: {
                                    enabled: false,
                                    style: {
                                        fontWeight: 'bold',
                                        color: (Highcharts.theme && Highcharts.theme.textColor) || 'gray'
                                    }
                                }
                            },
                            tooltip: {
                                headerFormat: '<b>{point.x}</b><br/>',
                                pointFormat: '{series.name}: {point.y}<br/>Total: {point.stackTotal}'
                            },
                            plotOptions: {
                                column: {
                                    stacking: 'normal',
                                    dataLabels: {
                                        enabled: false,
                                        color: (Highcharts.theme && Highcharts.theme.dataLabelsColor) || 'white'
                                    }
                                },
                                series: {
                                    cursor: 'pointer',
                                    events: {
                                        click: function (event) { //console.log(event);
                                            $('.threepanel').hide();
                                            $('.charts_table').hide();
                                            $('#'+table).show();

                                        }
                                    }
                                }
                            },
                            series: chartData
                        });break;
                    }
                    break;

                case 'bar' :
                    $('#' + panelId + '_chart').highcharts({
                        chart: {
                            type: 'bar'
                        },
                        title: {
                            text: ' <a class="back ' + elementId + ' ' + panelId + '"  style="color:red;cursor:pointer" >Back</a>',
                            align: 'right',
                        },
                        colors: [
                            '#F44336','#f39c12','#4CAF50','#009688','#7cb5ec',
                        ],
                        xAxis: {
                            categories: chartCategories,
                        },
                        yAxis: {
                            min: 0,
                            title: {
                                text: 'count of vulnerabilities'
                            }
                        },
                        legend: {
                            reversed: true
                        },
                        plotOptions: {
                            series: {
                                stacking: 'normal',
                                cursor: 'pointer',
                                events: {
                                    click: function (event) { //console.log(event);
                                        $('.threepanel').hide();
                                        $('.charts_table').hide();
                                        $('#'+table).show();

                                    }
                                }
                            }
                        },
                        series: chartData
                    });
                    break;

                case 'area':
                    switch(elementId)
                    {
                        case 'vuln_by_severity': $('#' + panelId + '_chart').highcharts({
                            chart: {
                                type: 'area',
                                spacingBottom: 30
                            },
                            title: {
                                text: ' <a class="back ' + elementId + ' ' + panelId + '"  style="color:red;cursor:pointer" >Back</a>',
                                align: 'right',
                            },
                            colors: [
                                '#7cb5ec',
                                '#009688',
                                '#4CAF50',
                                '#f39c12',
                                '#F44336'
                            ],
                            xAxis: {
                                categories: chartCategories
                            },
                            yAxis: {
                                title: {
                                    text: 'Count of Vulnerability'
                                },
                                labels: {
                                    formatter: function () {
                                        return this.value;
                                    }
                                }
                            },
                            tooltip: {
                                formatter: function () {
                                    return '<b>' + this.series.name + '</b><br/>' +
                                        this.x + ': ' + this.y;
                                }
                            },
                            plotOptions: {
                                area: {
                                    fillOpacity: 0.5
                                },
                                series: {
                                    stacking: 'normal',
                                    cursor: 'pointer',
                                    events: {
                                        click: function (event) { //console.log(event);
                                            $('.threepanel').hide();
                                            $('.charts_table').hide();
                                            $('#' + table).show();

                                        }
                                    }
                                }
                            },
                            credits: {
                                enabled: false
                            },
                            series: chartData,
                        });break;
                        case 'vuln_by_pci': $('#' + panelId + '_chart').highcharts({
                            chart: {
                                type: 'area',
                                spacingBottom: 30
                            },
                            title: {
                                text: ' <a class="back ' + elementId + ' ' + panelId + '"  style="color:red;cursor:pointer" >Back</a>',
                                align: 'right',
                            },
                            colors: [
                                '#7cb5ec',
                                '#009688',
                                '#4CAF50',
                                '#f39c12',
                                '#F44336'
                            ],
                            xAxis: {
                                categories: chartCategories
                            },
                            yAxis: {
                                title: {
                                    text: 'Count of Vulnerability'
                                },
                                labels: {
                                    formatter: function () {
                                        return this.value;
                                    }
                                }
                            },
                            tooltip: {
                                formatter: function () {
                                    return '<b>' + this.series.name + '</b><br/>' +
                                        this.x + ': ' + this.y;
                                }
                            },
                            plotOptions: {
                                area: {
                                    stacking: 'normal',
                                    lineColor: '#666666',
                                    lineWidth: 1,
                                    marker: {
                                        lineWidth: 1,
                                        lineColor: '#666666'
                                    }
                                },
                                series: {
                                    stacking: 'normal',
                                    cursor: 'pointer',
                                    events: {
                                        click: function (event) { //console.log(event);
                                            $('.threepanel').hide();
                                            $('.charts_table').hide();
                                            $('#' + table).show();

                                        }
                                    }
                                }
                            },
                            credits: {
                                enabled: false
                            },
                            series: chartData,
                        });break;
                    }

                    break;
            }
        }


        $(function() {
            $(document).on('click', '.back', function() {
                var classes= $(this).attr("class").split(" ");
                var elementId=classes[1];//alert(elementId);
                var panelId = classes[2];
                var HighChartProperties = js_vm_graphs[elementId];
                Highcharts.chart(panelId + '_chart', HighChartProperties);
                var chart_element = $("#" + panelId).data("chart");
            });


            var data = Highcharts.geojson(Highcharts.maps['custom/world']),
                // Some responsiveness
                small = $('#panel_7_chart').width() < 400;

            // Set drilldown pointers
            $.each(data, function (i) {
                this.drilldown = this.properties['hc-key'];
                this.value = i; // Non-random bogus data
                this.three = this.properties['hc-key'].split('-')[0];
            });

            // Instanciate the map
            Highcharts.mapChart('panel_7_chart', {
                chart: {
                    events: {
                        drilldown: function (e) {

                            if (!e.seriesOptions) {
                                var chart = this,
                                    mapKey = 'countries/'+e.point.three+'/' + e.point.drilldown + '-all',
                                    // Handle error, the timeout is cleared on success
                                    fail = setTimeout(function () {
                                        if (!Highcharts.maps[mapKey]) {
                                            chart.showLoading('<i class="icon-frown"></i> Failed loading ' + e.point.name);

                                            fail = setTimeout(function () {
                                                chart.hideLoading();
                                            }, 1000);
                                        }
                                    }, 3000);

                                // Show the spinner
                                chart.showLoading('<i class="icon-spinner icon-spin icon-3x"></i>'); // Font Awesome spinner

                                // Load the drilldown map
                                $.getScript('https://code.highcharts.com/mapdata/' + mapKey + '.js', function () {

                                    data = Highcharts.geojson(Highcharts.maps[mapKey]);

                                    // Set a non-random bogus value
                                    $.each(data, function (i) {
                                        this.value = i;
                                    });

                                    // Hide loading and add series
                                    chart.hideLoading();
                                    clearTimeout(fail);
                                    chart.addSeriesAsDrilldown(e.point, {
                                        name: e.point.name,
                                        data: data,
                                        dataLabels: {
                                            enabled: true,
                                            format: '{point.name}'
                                        },
                                        events: {
                                            click: function (event) {
                                                $('.threepanel').hide();
                                                $('#vuln_servers_by_region_div').show();
                                            }
                                        }
                                    });
                                });
                            }


                            this.setTitle(null, { text: e.point.name });
                        },
                        drillup: function () {
                            this.setTitle(null, { text: 'World' });
                        }
                    }
                },

                title: {
                    text: ''
                },

                subtitle: {
                    text: 'Servers by Region',
                    floating: true,
                    align: 'right',
                    y: 50,
                    style: {
                        fontSize: '16px'
                    }
                },

                /*legend: small ? {} : {
                 layout: 'vertical',
                 align: 'right',
                 verticalAlign: 'middle'
                 },*/

                colorAxis: {
                    dataClasses: [{
                        to: 0,
                        name: 'Minimal',
                        color : '#7cb5ec',
                    }, {
                        from: 1,
                        to: 2,
                        name: 'Medium',
                        color : '#009688',
                    }, {
                        from: 2,
                        to: 3,
                        name: 'Serious',
                        color : '#4CAF50',
                    }, {
                        from: 3,
                        to: 200,
                        name: 'Critical',
                        color : '#f39c12',
                    }, {
                        from: 201,
                        to:1000,
                        name: 'Urgent',
                        color : '#F44336',
                    }]
                },

                mapNavigation: {
                    enabled: true,
                    buttonOptions: {
                        verticalAlign: 'bottom'
                    }
                },

                plotOptions: {
                    map: {
                        states: {
                            hover: {
                                color: '#EEDD66'
                            }
                        }
                    }
                },

                series: [{
                    data: data,
                    name: 'Servers by Region',
                    dataLabels: {
                        enabled: true,
                        format: '{point.properties.postal-code}'
                    }
                }],

                drilldown: {
                    activeDataLabelStyle: {
                        color: '#FFFFFF',
                        textDecoration: 'none',
                        textOutline: '1px #000000'
                    },
                    drillUpButton: {
                        relativeTo: 'spacingBox',
                        position: {
                            x: 0,
                            y: 60
                        },
                        theme: {
                            style: {
                                color: '#fff'
                            },
                            fill: '#275596',
                            'stroke-width': 1,
                            stroke: 'silver',
                            r: 0,
                            states: {
                                hover: {
                                    fill: '#194c95',
                                    style: {
                                        color: '#fff'
                                    }
                                },
                                select: {
                                    stroke: '#fff',
                                    fill: '#194c95',
                                    style: {
                                        color: '#fff'
                                    }
                                }
                            }
                        }
                    }
                }
            });



            var data = Highcharts.geojson(Highcharts.maps['custom/world']),
                // Some responsiveness
                small = $('#panel_8_chart').width() < 400;

            // Set drilldown pointers
            $.each(data, function (i) {
                this.drilldown = this.properties['hc-key'];
                this.value = i; // Non-random bogus data
                this.three = this.properties['hc-key'].split('-')[0];
            });

            // Instanciate the map
            Highcharts.mapChart('panel_8_chart', {
                chart: {
                    events: {
                        drilldown: function (e) {

                            if (!e.seriesOptions) {
                                var chart = this,
                                    mapKey = 'countries/'+e.point.three+'/' + e.point.drilldown + '-all',
                                    // Handle error, the timeout is cleared on success
                                    fail = setTimeout(function () {
                                        if (!Highcharts.maps[mapKey]) {
                                            chart.showLoading('<i class="icon-frown"></i> Failed loading ' + e.point.name);

                                            fail = setTimeout(function () {
                                                chart.hideLoading();
                                            }, 1000);
                                        }
                                    }, 3000);

                                // Show the spinner
                                chart.showLoading('<i class="icon-spinner icon-spin icon-3x"></i>'); // Font Awesome spinner

                                // Load the drilldown map
                                $.getScript('https://code.highcharts.com/mapdata/' + mapKey + '.js', function () {

                                    data = Highcharts.geojson(Highcharts.maps[mapKey]);

                                    // Set a non-random bogus value
                                    $.each(data, function (i) {
                                        this.value = i;
                                    });

                                    // Hide loading and add series
                                    chart.hideLoading();
                                    clearTimeout(fail);
                                    chart.addSeriesAsDrilldown(e.point, {
                                        name: e.point.name,
                                        data: data,
                                        dataLabels: {
                                            enabled: true,
                                            format: '{point.name}'
                                        },
                                        events: {
                                            click: function (event) {
                                                $('.threepanel').hide();
                                                $('#vuln_apps_by_region_div').show();
                                            }
                                        }
                                    });
                                });
                            }


                            this.setTitle(null, { text: e.point.name });
                        },
                        drillup: function () {
                            this.setTitle(null, { text: 'World' });
                        }
                    }
                },

                title: {
                    text: ''
                },

                subtitle: {
                    text: 'Apps by Region',
                    floating: true,
                    align: 'right',
                    y: 50,
                    style: {
                        fontSize: '16px'
                    }
                },

                /*legend: small ? {} : {
                 layout: 'vertical',
                 align: 'right',
                 verticalAlign: 'middle'
                 },*/

                colorAxis: {
                    dataClasses: [{
                        to: 10,
                        name: 'Minimal',
                        color : '#7cb5ec',
                    }, {
                        from: 20,
                        to: 30,
                        name: 'Medium',
                        color : '#009688',
                    }, {
                        from: 30,
                        to: 40,
                        name: 'Serious',
                        color : '#4CAF50',
                    }, {
                        from: 40,
                        to: 100,
                        name: 'Critical',
                        color : '#f39c12',
                    }, {
                        from: 101,
                        to:1000,
                        name: 'Urgent',
                        color : '#F44336',
                    }]
                },

                mapNavigation: {
                    enabled: true,
                    buttonOptions: {
                        verticalAlign: 'bottom'
                    }
                },

                plotOptions: {
                    map: {
                        states: {
                            hover: {
                                color: '#EEDD66'
                            }
                        }
                    }
                },

                series: [{
                    data: data,
                    name: 'Apps by Region',
                    dataLabels: {
                        enabled: true,
                        format: '{point.properties.postal-code}'
                    }
                }],

                drilldown: {
                    activeDataLabelStyle: {
                        color: '#FFFFFF',
                        textDecoration: 'none',
                        textOutline: '1px #000000'
                    },
                    drillUpButton: {
                        relativeTo: 'spacingBox',
                        position: {
                            x: 0,
                            y: 60
                        },
                        theme: {
                            style: {
                                color: '#fff'
                            },
                            fill: '#275596',
                            'stroke-width': 1,
                            stroke: 'silver',
                            r: 0,
                            states: {
                                hover: {
                                    fill: '#194c95',
                                    style: {
                                        color: '#fff'
                                    }
                                },
                                select: {
                                    stroke: '#fff',
                                    fill: '#194c95',
                                    style: {
                                        color: '#fff'
                                    }
                                }
                            }
                        }
                    }
                }
            });


        });
        // Initiate the chart



    </script>

@endsection